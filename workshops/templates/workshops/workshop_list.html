{% extends "base.html" %}
{% block title %}Workshops ‚Äî {{ project.title }}{% endblock %}
{% block content %}

<style>
  body {
    background: #f8fafc;
    font-family: "Inter", sans-serif;
  }
  h2 {
    font-weight: 600;
    color: #1e293b;
  }
  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }
  .page-header a {
    border-radius: 0.5rem;
  }
  .card {
    border: none;
    border-radius: 1rem;
    box-shadow: 0 4px 14px rgba(0,0,0,0.05);
    transition: all 0.25s ease;
    height: 100%;
  }
  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 22px rgba(0,0,0,0.08);
  }
  .workshop-icon {
    font-size: 1.9rem;
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    margin-bottom: 0.8rem;
  }
  .icon-red { background: #dc3545; }
  .icon-blue { background: #0d6efd; }
  .icon-green { background: #198754; }
  .icon-yellow { background: #ffc107; color: #000; }
  .card h5 {
    font-weight: 600;
    color: #1e293b;
  }
  .card p {
    color: #6b7280;
    font-size: 0.95rem;
    min-height: 50px;
  }
  .btn {
    border-radius: 0.5rem;
    font-weight: 500;
  }
  .btn-outline-primary:hover {
    background: #2563eb;
    color: #fff;
  }
  .progress {
    height: 6px;
    border-radius: 10px;
    background-color: #e2e8f0;
  }
  .progress-bar {
    background: linear-gradient(90deg, #2563eb, #4f46e5);
  }
</style>

<div class="container py-4">
  <div class="page-header">
    <h2>üìò {{ project.title }} ‚Äî Workshops</h2>
    <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary">‚Üê Back to Dashboard</a>
  </div>

  <p class="text-muted mb-4">
    Complete each workshop step-by-step. Your progress is saved automatically.
  </p>

  <div class="row g-4">
    <!-- Workshop 1 -->
    <div class="col-md-6 col-lg-3">
      <div class="card p-3 text-center">
        <div class="workshop-icon icon-red">üë•</div>
        <h5>Workshop 1</h5>
        <p>Stakeholder Analysis: identify and rate key stakeholders by power and interest.</p>
        <div class="progress mb-3">
          <div class="progress-bar" style="width: {{ ws_flags.ws1|default:0|yesno:'100,0' }}%"></div>
        </div>
        <a href="{% url 'stakeholder_list' project.id %}" class="btn btn-outline-primary w-100">
          {% if ws_flags.ws1 %}Review{% else %}Start{% endif %}
        </a>
      </div>
    </div>

    <!-- Workshop 2 -->
    <div class="col-md-6 col-lg-3">
      <div class="card p-3 text-center">
        <div class="workshop-icon icon-blue">üå≥</div>
        <h5>Workshop 2</h5>
        <p>Problem Tree Analysis: build your core problem, causes, and effects visually.</p>
        <div class="progress mb-3">
          <div class="progress-bar" style="width: {{ ws_flags.ws2|default:0|yesno:'100,0' }}%"></div>
        </div>
        <a href="{% url 'problem_tree' project.id %}" class="btn btn-outline-primary w-100">
          {% if ws_flags.ws2 %}Review{% else %}Start{% endif %}
        </a>
      </div>
    </div>

    <!-- Workshop 3 -->
    <div class="col-md-6 col-lg-3">
      <div class="card p-3 text-center">
        <div class="workshop-icon icon-green">üìä</div>
        <h5>Workshop 3</h5>
        <p>Indicators & Ranking: Delphi selection and SRF ‚Äúplaying card‚Äù prioritization.</p>
        <div class="progress mb-3">
          <div class="progress-bar" style="width: {{ ws_flags.ws3|default:0|yesno:'100,0' }}%"></div>
        </div>
        <a href="{% url 'indicator_selection' project.id %}" class="btn btn-outline-primary w-100">
          {% if ws_flags.ws3 %}Review{% else %}Start{% endif %}
        </a>
      </div>
    </div>

    <!-- Workshop 4 -->
    <div class="col-md-6 col-lg-3">
      <div class="card p-3 text-center">
        <div class="workshop-icon icon-yellow">üí°</div>
        <h5>Workshop 4</h5>
        <p>SWOT Analysis: summarize your project‚Äôs strengths, weaknesses, opportunities, and threats.</p>
        <div class="progress mb-3">
          <div class="progress-bar" style="width: {{ ws_flags.ws4|default:0|yesno:'100,0' }}%"></div>
        </div>
        <a href="{% url 'swot_analysis' project.id %}" class="btn btn-outline-primary w-100">
          {% if ws_flags.ws4 %}Review{% else %}Start{% endif %}
        </a>
      </div>
    </div>
  </div>

  <div class="text-center mt-5">
    <a href="{% url 'project_overview' project.id %}" class="btn btn-outline-secondary me-2">‚Üê Back to Overview</a>
    <a href="#" class="btn btn-success px-4">‚úÖ Finish & Export Report</a>
  </div>
</div>

{% endblock %}
