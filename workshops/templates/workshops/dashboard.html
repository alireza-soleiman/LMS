{% extends "base.html" %}
{% block title %}My Dashboard{% endblock %}
{% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ğŸ“ My Projects</h2>
    <a href="{% url 'create_project' %}" class="btn btn-success">â• New Project</a>
  </div>

  {% if project_cards %}
  <div class="row g-4">
    {% for card in project_cards %}
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ card.project.title }}</h5>
          <p class="text-muted small mb-2">{{ card.project.description|default:"No description" }}</p>

          <div class="mb-2">
            <div class="d-flex justify-content-between small">
              <div>Progress</div>
              <div>{{ card.completed }} / {{ card.total }}</div>
            </div>
            <div class="progress" style="height: 10px;">
              <div class="progress-bar" role="progressbar" style="width: {{ card.percent }}%;" aria-valuenow="{{ card.percent }}" aria-valuemin="0" aria-valuemax="100">
                {{ card.percent }}%
              </div>
            </div>
          </div>

          <ul class="list-unstyled small mt-3 mb-3">
            <li>ğŸ“‹ <a href="{% url 'stakeholder_list' card.project.id %}">Stakeholder Analysis</a></li>
            <li>ğŸŒ³ <a href="{% url 'problem_tree' card.project.id %}">Problem Tree</a></li>
            <li>ğŸ“ˆ <a href="{% url 'indicator_selection' card.project.id %}">Indicator Selection</a></li>
            <li>ğŸ§­ <a href="{% url 'swot_analysis' card.project.id %}">SWOT</a></li>
          </ul>

          <div class="d-grid gap-2">
            <a href="{% url 'project_overview' card.project.id %}" class="btn btn-outline-primary btn-sm">Project Info</a>
            <a href="{% url 'stakeholder_list' card.project.id %}" class="btn btn-primary btn-sm">Open Project</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="alert alert-info">You have no projects yet. Click â€œNew Projectâ€ to create one.</div>
  {% endif %}
</div>
{% endblock %}
